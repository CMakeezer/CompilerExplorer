sudo: required
dist: trusty

before_install:
  - sudo add-apt-repository --yes ppa:beineri/opt-qt58-trusty
  - sudo apt-get update -qq

install:
  - sudo apt-get -y install qt58[QTPACKAGE]
  - cd  /opt
  - wget http://download.qt.io/official_releases/qtcreator/4.2/4.2.2/qt-creator-opensource-src-4.2.2.tar.gz
  - tar -xf ./qt-creator-opensource-src-4.2.2.tar.gz
  
script:
  - source /opt/qt58/bin/qt58-env.sh
  - cd $TRAVIS_BUILD_DIR/src
  - touch qt_deps.pri
  - echo "QTC_SOURCE = /opt/qt-creator-opensource-src-4.2.2" > qt_deps.pri
  - echo "QTC_BUILD = /opt/qt58" >> qt_dep.pri
  - /opt/qt58/bin/qmake -project
  - /opt/qt58/bin/qmake src.pro
  - make